!function(){function e(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,i)}return l}function t(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?e(Object(a),!0).forEach(function(e){l(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function l(e,t,l){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var i=l.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}System.register(["./table_mixin-legacy-kQ9mKuNM.js","./index-legacy-DO0lzRwA.js","./xwb-api-legacy-D0ZdAFJt.js","./view_simple_table-legacy-BBuEsiei.js","./polyfill-legacy-aWkUxw0k.js"],function(e,l){"use strict";var i,a,r,o,s,n,d,c,u,f,h,p,m,g,b,y,w,x,v,C,O;return{setters:[e=>{i=e.t},e=>{a=e.b,r=e.N,o=e.r,s=e.o,n=e.c,d=e.d,c=e.i,u=e.e,f=e.w,h=e.F,p=e.v,m=e.f,g=e.t,b=e.j,y=e.x,w=e.z,x=e.E,v=e.V},e=>{C=e.x},e=>{O=e.v},null],execute:function(){const l={class:"page_content"},P={class:"header-item"},k={class:"header-item"},j={class:"header-item"},z={class:"header-item"},_={class:"header-item"},E={class:"header-item"};e("default",a({name:"xwb_readonly",components:{QuestionFilled:r},mixins:[i],data:()=>({time:["",""],total:0,searchParams:{bdzmcList:[],sfcyqs:!1,year:w().format("YYYY"),sortOrder:"",sortColumn:""},tableData:[],isAutoWrap:!1}),watch:{"searchParams.sfcyqs":{handler(){this.loadTableData()},immediate:!1}},computed:{tableHeaderList(){return[{type:"seq",width:60,fixed:"left"},{field:"bdzmc",title:"变电站名称",width:120},{field:"bdzdydj",title:"变电站电压等级（kV）",width:120,sortable:!0},{field:"llkg",title:"拉路开关",minWidth:200,filters:[{data:""}],filterRender:{name:"VxeInput"}},{field:"kgdydj",title:"开关电压等级（kV）",width:120,sortable:!0},{field:"fh",title:"负荷（万千瓦）",width:120,sortable:!0,headerAlign:"center",align:"right",formatter:["formatterNumber",2],titleSuffix:{content:"表格值"}},{field:"ygFhz",title:"有功负荷值（万千瓦）",width:120,sortable:!0,headerAlign:"center",align:"right",formatter:["formatterNumber",2],titleSuffix:{content:"D5000最大采样值"}},{field:"ssdwfq",title:"所属电网分区",width:130,filters:this.$store.state.selectOptionsObj.fq},{field:"zyfh",title:"主要负荷【用户名称】",minWidth:180,filters:[{data:""}],filterRender:{name:"VxeInput"}},{field:"ssxzqy",title:"所属行政区域",width:120,filters:this.$store.state.selectOptionsObj.xzqy},{field:"sz220bdz",title:"所在220千伏变电站",width:110},{field:"fhxz",title:"负荷性质",width:140},{field:"fd",title:"分档",width:100},{field:"bz",title:"备注",minWidth:180,headerAlign:"center",align:"left"},{title:"日志",width:100,fixed:"right",slots:{default:"action"}}]},gridOptions(){return{height:"auto",border:!0,round:!0,headerAlign:"center",align:"center",loading:!1,rowConfig:{isCurrent:!0,isHover:!0},radioConfig:{highlight:!0},checkboxConfig:{highlight:!0},columnConfig:{resizable:!0},sortConfig:{remote:!0},filterConfig:{remote:!0},showOverflow:this.isAutoWrap,headerCellClassName:"row-class",pagerConfig:t(t({},this.pagerConfig),{},{pageSize:100,pageSizes:[20,50,100,200,300,500]}),proxyConfig:{seq:!0,showResponseMsg:!1,showActionMsg:!1,sort:!0,filter:!0,ajax:{query:({page:e,sorts:t,filters:l})=>this.loadTableApi(e,t,l),queryAll:({sorts:e,filters:t})=>this.loadTableApi({pageSize:1e5,currentPage:1},e,t)}},exportConfig:{filename:"序位表",sheetName:"sheet1",type:"xlsx",mode:"all",modes:["current","selected","all"],message:!1,columns:this.tableHeaderList.filter(e=>"checkbox"!==e.type),exportMethod:this.exportMethod,afterExportMethod:this.afterExportMethod},menuConfig:{body:{options:[[{code:"collect",name:"标记重点"}]]}},cellClassName:({row:e})=>e.ygFhz||0===e.ygFhz?null:"row-red",columns:this.tableHeaderList}},defaultLeftButtons:()=>[{type:"gradientGreen",name:"查询"},{type:"gradientDarkGreen",name:"重置"}],defaultRightButtons:()=>[]},mounted(){},methods:{jumpKeydownEvent(e){v.globalEvents.hasKey(e.$event,v.GLOBAL_EVENT_KEYS.ENTER)&&this.$refs.xTable.setCurrentPageByEvent(e.$event,10)},reloadTableData(){this.$refs.xTable.commitProxy("query")},loadTableData(){this.$refs.xTable.commitProxy("reload")},loadTableApi(e,t,l){let i=this.getRealParams(this.searchParams,e,t,l);return new Promise(t=>{C.loadTableDataService(i).then(l=>{1e5==e.pageSize?(this.total=l.total,t(l.data)):(this.total=l.total,t({result:l.data,page:{total:l.total}}))})})},toggleWrap(){this.isAutoWrap?this.isAutoWrap=!1:this.isAutoWrap="tooltip"},doViewLog(e){C.loadViewDialogService({id:e.id}).then(e=>{this.$vxeModal.show(O,{tableHeaderList:[{type:"seq",width:60},{field:"czr",title:"操作人",width:"100"},{field:"time",title:"操作时间",width:"150"},{field:"nr",title:"内容"}],tableData:e.data},{width:800,title:"日志",height:600},{})})},doExport(e){x.exportFileService("/xwb/exportXwb",this.searchParams,e,this.pagerParam)},resetParams(){this.searchParams={bdzmcList:[],sfcyqs:!1,year:w().format("YYYY"),sortOrder:"",sortColumn:""},this.$nextTick(function(){this.loadTableData()})}}},[["render",function(e,t,i,a,r,w){const x=o("el-date-picker"),v=o("el-option"),C=o("el-select"),O=o("QuestionFilled"),V=o("el-icon"),Y=o("el-tooltip"),T=o("el-switch"),q=o("el-button"),A=o("arrow-down"),L=o("el-dropdown-item"),S=o("el-dropdown-menu"),D=o("el-dropdown"),$=o("vxe-button"),N=o("vxe-grid");return s(),n("div",l,[d("header",null,[d("section",null,[d("div",P,[t[5]||(t[5]=c(" 年： ",-1)),u(x,{modelValue:r.searchParams.year,"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchParams.year=e),type:"year",format:"YYYY","value-format":"YYYY"},null,8,["modelValue"])]),d("div",k,[t[6]||(t[6]=c(" 变电站名称： ",-1)),u(C,{modelValue:r.searchParams.bdzmcList,"onUpdate:modelValue":t[1]||(t[1]=e=>r.searchParams.bdzmcList=e),placeholder:"请选择",clearable:"",filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"","tag-type":"",style:{width:"180px"}},{default:f(()=>[(s(!0),n(h,null,p(this.$store.state.selectOptionsObj.bdz,e=>(s(),m(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),d("div",j,[u(Y,{effect:"dark",content:"筛选没有有功负荷值的开关"},{default:f(()=>[u(V,{size:16},{default:f(()=>[u(O)]),_:1})]),_:1}),t[7]||(t[7]=c(" 是否采样缺失： ",-1)),u(T,{modelValue:r.searchParams.sfcyqs,"onUpdate:modelValue":t[2]||(t[2]=e=>r.searchParams.sfcyqs=e),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),d("div",z,[(s(!0),n(h,null,p(w.defaultLeftButtons,(t,l)=>(s(),m(q,{type:t.type,plain:t.plain,key:l+"defaultLeftButtons",onClick:l=>e.btnClick(t)},{default:f(()=>[c(g(t.name),1)]),_:2},1032,["type","plain","onClick"]))),128))]),d("div",_,[u(D,null,{dropdown:f(()=>[u(S,null,{default:f(()=>[u(L,{onClick:w.doExport},{default:f(()=>[...t[9]||(t[9]=[c("导出当前页",-1)])]),_:1},8,["onClick"]),u(L,{onClick:t[3]||(t[3]=e=>w.doExport(!0))},{default:f(()=>[...t[10]||(t[10]=[c("导出全部",-1)])]),_:1})]),_:1})]),default:f(()=>[u(q,{type:"gradientGreen"},{default:f(()=>[t[8]||(t[8]=c(" 导出",-1)),u(V,{class:"el-icon--right"},{default:f(()=>[u(A)]),_:1})]),_:1})]),_:1})])]),d("section",null,[d("div",E,[(s(!0),n(h,null,p(w.defaultRightButtons,(t,l)=>(s(),m(q,{type:t.type,plain:t.plain,key:l+"defaultRightButtons",onClick:l=>e.btnClick(t)},{default:f(()=>[c(g(t.name),1)]),_:2},1032,["type","plain","onClick"]))),128))])])]),d("article",null,[u(N,y(w.gridOptions,{ref:"xTable",onMenuClick:t[4]||(t[4]=t=>e.menuClickEvent(t,"序位表"))}),{action:f(({row:e})=>[e.id?(s(),m($,{key:0,mode:"text",status:"primary",onClick:t=>w.doViewLog(e)},{default:f(()=>[...t[11]||(t[11]=[c("日志 ",-1)])]),_:1},8,["onClick"])):b("",!0)]),_:1},16)])])}],["__scopeId","data-v-0b5501ee"]]))}}})}();
