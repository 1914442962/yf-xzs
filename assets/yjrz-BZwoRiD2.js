import{t as e}from"./table_mixin-BbK9105O.js";import{A as t,B as a,b as s,r as o,o as l,c as i,d as r,e as n,g as d,F as h,v as c,f as u,w as p,i as m,t as f,x as g}from"./index-CRHEuOwk.js";import"./polyfill-lGe4XDVY.js";let b=a.base;const y={loadTableDataService:e=>t({url:"".concat(b,"/first/queryYjLog"),method:"post",data:e,showLoading:!0})},C={class:"page_content"},x={class:"header-item"},w={class:"header-item"},k={class:"header-item"};const v=s({name:"yjrz",mixins:[e],components:{},data:()=>({time:["",""],total:0,searchParams:{keyword:"",sortOrder:"",sortColumn:""},tableData:[],isAutoWrap:!1}),watch:{},computed:{tableHeaderList:()=>[{type:"seq",width:60,fixed:"left"},{field:"fsr",title:"发送人",width:150},{field:"fssj",title:"发送时间",width:150,sortable:!0},{field:"fsnr",title:"发送内容",minWidth:120,headerAlign:"center",align:"left"},{field:"fszt",title:"发送状态",width:100}],gridOptions(){return{height:"auto",keepSource:!0,border:!0,round:!0,headerAlign:"center",align:"center",loading:!1,rowConfig:{isCurrent:!0,isHover:!0},radioConfig:{highlight:!0},checkboxConfig:{highlight:!0,reserve:!0,showServeStatus:!0,range:!0},columnConfig:{resizable:!0},resizeConfig:{isDblclickAutoWidth:!0},sortConfig:{remote:!0},filterConfig:{remote:!0},showOverflow:this.isAutoWrap,headerCellClassName:"row-class",pagerConfig:this.pagerConfig,proxyConfig:{seq:!0,showResponseMsg:!1,showActionMsg:!1,sort:!0,filter:!0,ajax:{query:({page:e,sorts:t,filters:a})=>this.loadTableApi(e,t,a),queryAll:({sorts:e,filters:t})=>this.loadTableApi({pageSize:1e5,currentPage:1},e,t)}},exportConfig:{filename:"邮件日志",sheetName:"sheet1",type:"xlsx",mode:"all",modes:["current","selected","all"],message:!1,columns:this.tableHeaderList.filter(e=>"checkbox"!==e.type),exportMethod:this.exportMethod,afterExportMethod:this.afterExportMethod},menuConfig:{body:{options:[[{code:"collect",name:"标记重点"}]]}},columns:this.tableHeaderList}},defaultLeftButtons:()=>[{type:"gradientGreen",name:"查询"}],defaultRightButtons:()=>[]},mounted(){},methods:{reloadTableData(){this.$refs.xTable.commitProxy("query")},loadTableData(){this.$refs.xTable.commitProxy("reload")},loadTableApi(e,t,a){let s=this.getRealParams(this.searchParams,e,t,a);return new Promise(t=>{y.loadTableDataService(s).then(a=>{1e5==e.pageSize?(this.total=a.total,t(a.data)):(this.total=a.total,t({result:a.data,page:{total:a.total}}))})})},toggleWrap(){this.isAutoWrap?this.isAutoWrap=!1:this.isAutoWrap="tooltip"},resetParams(){this.searchParams.keyword="",this.searchParams.sortOrder="",this.searchParams.sortColumn="",this.$nextTick(function(){this.loadTableData()})}}},[["render",function(e,t,a,s,b,y){const v=o("el-input"),A=o("el-button"),P=o("vxe-grid");return l(),i("div",C,[r("header",null,[r("section",null,[r("div",x,[n(v,{placeholder:"请输入关键字",modelValue:b.searchParams.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>b.searchParams.keyword=e),onKeydown:d(y.loadTableData,["enter"]),title:b.searchParams.keyword,clearable:""},null,8,["modelValue","onKeydown","title"])]),r("div",w,[(l(!0),i(h,null,c(y.defaultLeftButtons,(t,a)=>(l(),u(A,{type:t.type,plain:t.plain,key:a+"defaultLeftButtons",onClick:a=>e.btnClick(t)},{default:p(()=>[m(f(t.name),1)]),_:2},1032,["type","plain","onClick"]))),128))])]),r("section",null,[r("div",k,[(l(!0),i(h,null,c(y.defaultRightButtons,(t,a)=>(l(),u(A,{type:t.type,plain:t.plain,key:a+"defaultRightButtons",onClick:a=>e.btnClick(t)},{default:p(()=>[m(f(t.name),1)]),_:2},1032,["type","plain","onClick"]))),128))])])]),r("article",null,[n(P,g(y.gridOptions,{ref:"xTable",onMenuClick:t[1]||(t[1]=t=>e.menuClickEvent(t,"邮件日志"))}),null,16)])])}],["__scopeId","data-v-457e5ac4"]]);export{v as default};
