import{z as e,A as s,_ as t,r as a,o as l,c as i,b as o,h as r,d as n,w as g,F as c,q as d,e as m,ae as h,af as u,p as v}from"./index-9pCzIQ7O.js";import"./polyfill-lGe4XDVY.js";let p=s.base;const f={loadTableDataService:s=>e({url:"".concat(p,"/first/queryAllPic"),method:"post",data:s,showLoading:!0})},D={class:"page_content"},U={class:"header-item"},x=["innerHTML"];const y=t({name:"dwjxt",data:()=>({src:"",imageOptions:[],svgUrl:"",x:50,y:50,offsetX:0,offsetY:0,isDragging:!1}),created(){this.getImages()},mounted(){this.registerWheel()},watch:{src:{handler(e){let s=this.imageOptions.filter(s=>s.fullImageUrl===e);s.length>0?this.svgUrl=s[0].svg:this.svgUrl=""},immediate:!1}},methods:{registerWheel(){var e=document.getElementById("svgDiv");let s=1;e.addEventListener("wheel",t=>{t.preventDefault(),console.log(t),t.deltaY<0?s+=.1:s-=.1,e.style.transform="scale(".concat(s,")")})},startDrag(e){this.isDragging=!0,this.offsetX=e.clientX-this.x,this.offsetY=e.clientY-this.y,document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.stopDrag)},onMouseMove(e){this.isDragging&&(this.x=e.clientX-this.offsetX,this.y=e.clientY-this.offsetY)},stopDrag(){this.isDragging=!1,document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.stopDrag)},getImages(){f.loadTableDataService().then(e=>{this.imageOptions=e.data,this.imageOptions.length>0&&(this.src=this.imageOptions[0].fullImageUrl)})}}},[["render",function(e,s,t,p,f,y){const w=a("el-option"),b=a("el-select"),M=a("el-image");return l(),i("div",D,[o("header",null,[o("section",null,[o("div",U,[s[2]||(s[2]=r(" 图： ",-1)),n(b,{modelValue:f.src,"onUpdate:modelValue":s[0]||(s[0]=e=>f.src=e),placeholder:"请选择",clearable:"",filterable:"",style:{width:"300px"}},{default:g(()=>[(l(!0),i(c,null,d(f.imageOptions,e=>(l(),m(w,{key:e.fullImageUrl,label:e.name,value:e.fullImageUrl},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])]),o("article",null,[h(o("div",{innerHTML:f.svgUrl,id:"svgDiv",style:v({left:f.x+"px",top:f.y+"px"}),onMousedown:s[1]||(s[1]=e=>y.startDrag(e))},null,44,x),[[u,f.svgUrl]]),h(n(M,{src:f.svgUrl,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[f.svgUrl],"show-progress":"",fit:"cover"},null,8,["src","preview-src-list"]),[[u,!f.svgUrl]])])])}],["__scopeId","data-v-eb1e7c1e"]]);export{y as default};
