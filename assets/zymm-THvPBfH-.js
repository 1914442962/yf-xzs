import{t as e}from"./table_mixin-CrQv_gJb.js";import{z as t,A as a,_ as l,r as i,o,c as s,b as n,d as r,f as d,F as c,q as h,e as m,w as u,h as p,t as f,v as g}from"./index-DrZ2SOez.js";import"./polyfill-lGe4XDVY.js";let b=a.base;const y={loadTableDataService:e=>t({url:"".concat(b,"/sbqd/zyMmcc"),method:"post",data:e,showLoading:!0}),doSyncTableDataService:e=>t({url:"".concat(b,"/sbqd/initZyMmcc"),method:"get",data:e,showLoading:!0})},x={class:"page_content"},C={class:"header-item"},k={class:"header-item"},w={class:"header-item"};const v=l({name:"grid_example",mixins:[e],components:{},data:()=>({time:["",""],total:0,searchParams:{bdzmc:""},tableData:[],isAutoWrap:!1}),watch:{},computed:{tableHeaderList:()=>[{type:"checkbox",width:50,fixed:"left"},{type:"seq",width:60,fixed:"left"},{field:"bdz",title:"变电站",width:200},{field:"d5000Sbmc",title:"d5000在运",minWidth:250,headerAlign:"center",align:"left"},{field:"lsSbmc",title:"历史命名文件内容",minWidth:250,headerAlign:"center",align:"left"}],gridOptions(){return{height:"auto",keepSource:!0,border:!0,round:!0,headerAlign:"center",align:"center",loading:!1,rowConfig:{isCurrent:!0,isHover:!0},radioConfig:{highlight:!0},checkboxConfig:{highlight:!0,reserve:!0,showServeStatus:!0,range:!0},columnConfig:{resizable:!0},resizeConfig:{isDblclickAutoWidth:!0},sortConfig:{remote:!0},filterConfig:{remote:!0},showOverflow:this.isAutoWrap,headerCellClassName:"row-class",pagerConfig:this.pagerConfig,proxyConfig:{seq:!0,showResponseMsg:!1,showActionMsg:!1,sort:!0,filter:!0,ajax:{query:({page:e,sorts:t,filters:a})=>this.loadTableApi(e,t,a),queryAll:({sorts:e,filters:t})=>this.loadTableApi({pageSize:1e5,currentPage:1},e,t)}},exportConfig:{filename:"测试表格",sheetName:"sheet1",type:"xlsx",mode:"all",modes:["current","selected","all"],message:!1,columns:this.tableHeaderList.filter(e=>"checkbox"!==e.type),exportMethod:this.exportMethod,afterExportMethod:this.afterExportMethod},menuConfig:{body:{options:[[{code:"collect",name:"标记重点"}]]}},columns:this.tableHeaderList}},defaultLeftButtons:()=>[{type:"gradientGreen",name:"查询"}],defaultRightButtons:()=>[]},mounted(){},methods:{reloadTableData(){this.$refs.xTable.commitProxy("query")},loadTableData(){this.$refs.xTable.commitProxy("reload")},loadTableApi(e,t,a){let l=this.getRealParams(this.searchParams,e,t,a);return new Promise(t=>{y.loadTableDataService(l).then(a=>{1e5==e.pageSize?(this.total=a.total,t(a.data)):(this.total=a.total,t({result:a.data,page:{total:a.total}}))})})},doSync(){y.doSyncTableDataService().then(()=>{this.loadTableData()})},toggleWrap(){this.isAutoWrap?this.isAutoWrap=!1:this.isAutoWrap="tooltip"},resetParams(){this.searchParams.bdzmc="",this.$nextTick(function(){this.loadTableData()})}}},[["render",function(e,t,a,l,b,y){const v=i("el-input"),T=i("el-button"),A=i("vxe-grid");return o(),s("div",x,[n("header",null,[n("section",null,[n("div",C,[r(v,{placeholder:"请输入变电站名称",modelValue:b.searchParams.bdzmc,"onUpdate:modelValue":t[0]||(t[0]=e=>b.searchParams.bdzmc=e),onKeydown:d(y.loadTableData,["enter"]),title:b.searchParams.bdzmc,clearable:""},null,8,["modelValue","onKeydown","title"])]),n("div",k,[(o(!0),s(c,null,h(y.defaultLeftButtons,(t,a)=>(o(),m(T,{type:t.type,plain:t.plain,key:a+"defaultLeftButtons",onClick:a=>e.btnClick(t)},{default:u(()=>[p(f(t.name),1)]),_:2},1032,["type","plain","onClick"]))),128))])]),n("section",null,[n("div",w,[(o(!0),s(c,null,h(y.defaultRightButtons,(t,a)=>(o(),m(T,{type:t.type,plain:t.plain,key:a+"defaultRightButtons",onClick:a=>e.btnClick(t)},{default:u(()=>[p(f(t.name),1)]),_:2},1032,["type","plain","onClick"]))),128)),r(T,{type:"gradientGreen",onClick:y.doSync},{default:u(()=>[...t[2]||(t[2]=[p("同步",-1)])]),_:1},8,["onClick"])])])]),n("article",null,[r(A,g(y.gridOptions,{ref:"xTable",onMenuClick:t[1]||(t[1]=t=>e.menuClickEvent(t,"设备启动"))}),null,16)])])}],["__scopeId","data-v-e42ebaf8"]]);export{v as default};
