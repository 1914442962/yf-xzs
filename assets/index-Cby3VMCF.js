import{P as e,b as t,_ as r,L as s,e as o,B as i,h as a,C as l,c as n,T as d,a as c,R as p,d as A,E as g,i as h,H as u,j as y,f,D as m,M as x,g as B,S as b,k as w,l as k}from"./index-BdC__kX6.js";import{b as E,r as S,o as G,c as K,d as P,i as U,e as V,w as C}from"./index-lltYVhud.js";import"./polyfill-lGe4XDVY.js";const Q={type:"customEdge",view:class extends t{getPointAtRatio(e,t){if(e.length<2)return null;let r=0;const s=[];for(let p=0;p<e.length-1;p++){const t=e[p],o=e[p+1],i=Math.sqrt(Math.pow(o.x-t.x,2)+Math.pow(o.y-t.y,2));s.push({start:r,length:i,p1:t,p2:o}),r+=i}if(0===r)return null;const o=r*t;let i=null;for(const p of s)if(o<=p.start+p.length){i=p;break}if(!i&&(i=s[s.length-1],!i))return null;const{start:a,length:l,p1:n,p2:d}=i,c=l>0?(o-a)/l:0;return{x:n.x+(d.x-n.x)*c,y:n.y+(d.y-n.y)*c,angle:Math.atan2(d.y-n.y,d.x-n.x)*(180/Math.PI)}}getEndArrow(){const{model:e}=this.props,{properties:{arrowType:t,arrowFill:s,jtPercent:o},endPoint:i,startPoint:a}=e;if("point"===t||"points"===t)return r("circle",{fill:s,cx:-5,cy:0,r:3});{console.log(a,i),i.x,a.x,i.y,a.y;const e=this.getPointAtRatio([a,i],o);console.log(e);const{x:t,y:l,angle:n}=e;return r("path",{d:"M-8,-6 L8,0 L-8,6 Z",fill:s,transform:"translate(".concat(-t," , ").concat(-l,") rotate(").concat(n,")")})}}},model:class extends e{getEdgeStyle(){const e=super.getEdgeStyle();return e.stroke=this.properties.fill||"#000",e.strokeDasharray=this.properties.strokeDasharray||"0 0",e.strokeWidth=2,e}getArrowStyle(){const e=super.getArrowStyle();return e.stroke=this.properties.isArrow?this.properties.arrowFill||"#000":"transparent",e}initEdgeData(e){super.initEdgeData(e)}}};const M={type:"customLineEdge",view:class extends o{getEndArrow(){const{model:e}=this.props,{properties:{arrowType:t,arrowFill:s,jtPercent:o},startPoint:i,endPoint:a}=e;if("point"===t||"points"===t)return r("circle",{fill:s,cx:-5,cy:0,r:3});{let e=a.x-i.x,t=a.y-i.y,l=o<.5?6:-8,n=Math.sqrt(e*e+t*t);return r("path",{d:"M-8,-6 L8,0 L-8,6 Z",fill:s,transform:"translate(".concat(-l-n*o," , 0)")})}}},model:class extends s{getEdgeStyle(){const e=super.getEdgeStyle();return e.stroke=this.properties.fill||"#000",e.strokeDasharray=this.properties.strokeDasharray||"0 0",e.strokeWidth=2,e}getArrowStyle(){const e=super.getArrowStyle();return e.stroke=this.properties.isArrow?this.properties.arrowFill||"#000":"transparent",e}initEdgeData(e){super.initEdgeData(e)}}};const R={type:"customBezierEdge",view:class extends a{getStartArrow(){const{model:e}=this.props,{properties:{arrowType:t,arrowFill:s}}=e;return"points"===t?r("circle",{fill:s,cx:5,cy:0,r:3}):super.getStartArrow()}getEndArrow(){const{model:e}=this.props,{properties:{arrowType:t,arrowFill:s}}=e;return"point"===t||"points"===t?r("circle",{fill:s,cx:-5,cy:0,r:3}):super.getEndArrow()}},model:class extends i{getEdgeStyle(){const e=super.getEdgeStyle(),{fill:t="#000",strokeDasharray:r="0 0"}=this.properties;return e.stroke=t,e.strokeDasharray=r,e.strokeWidth=2,e}getArrowStyle(){const e=super.getArrowStyle(),{isArrow:t,arrowFill:r="#000"}=this.properties;return e.stroke=t?r:"transparent",e}initEdgeData(e){super.initEdgeData(e)}}};const v={type:"customEdgeAnimation",view:class extends t{getEdge(){const{model:e}=this.props,{points:t}=e,s=e.getEdgeStyle();let o=t.trim().split(" ").join(" ");e.properties.reverse&&(o=t.trim().split(" ").reverse().join(" "));const i=(a=o)?a.trim().split(" ").map((e,t)=>{const[r,s]=e.split(",");return"".concat(0===t?"M":"L").concat(r,",").concat(s)}).join(" "):"";var a;return r("g",{},[r("polyline",{points:t,...s,fill:"none"}),r("path",{d:"M-10,-6 L10,0 L-10,6 Z",fill:s.stroke||"#000"},[r("animateMotion",{dur:"2s",repeatCount:"indefinite",rotate:"auto",path:i})])])}},model:class extends e{getEdgeStyle(){const e=super.getEdgeStyle(),{fill:t="#000",strokeDasharray:r="0 0"}=this.properties;return e.stroke=t,e.strokeDasharray=r,e.strokeWidth=3,e}}};const W={type:"emptyNode",view:class extends n{},model:class extends l{getNodeStyle(){const e=super.getNodeStyle();return e.stroke="transparent",e.fill="transparent",e}initNodeData(e){super.initNodeData(e),this.r=16}}};const T={type:"newText",view:class extends c{},model:class extends d{getTextStyle(){const e=super.getTextStyle();return e.color=this.properties.textColor||"#000",e.fontSize=this.properties.fontSize||16,e.fontWeight=this.properties.fontWeight||"normal",e}initNodeData(e){super.initNodeData(e)}}};const z={type:"specialX",view:class extends n{getShape(){const{x:e,y:t,fill:s,fontSize:o=5}=this.props.model;return r("g",{},r("path",{d:"M ".concat(e-o," ").concat(t+o," L ").concat(e+o," ").concat(t-o," M ").concat(e+o," ").concat(t+o," L ").concat(e-o," ").concat(t-o),fill:"none",stroke:s,"stroke-width":2}))}},model:class extends l{setAttributes(){const{fill:e="#000",fontSize:t=5}=this.properties;this.fill=e,this.fontSize=t}getDefaultAnchor(){return[]}initNodeData(e){super.initNodeData(e),this.r=16}}};const F={type:"specialS",view:class extends n{getShape(){const{x:e,y:t,fill:s}=this.props.model;let o=this.props.model.properties.fontSize||12;return r("g",{},r("path",{d:"M".concat(e-o,",").concat(t," C").concat(e-2*o/3,",").concat(t-o/3," ").concat(e-o/3,",").concat(t-o/3," ").concat(e,",").concat(t," S").concat(e+o/2,",").concat(t+o/2," ").concat(e+o,",").concat(t),fill:"none",stroke:s,"stroke-width":2}))}},model:class extends l{setAttributes(){const{fill:e="#000",fontSize:t=5}=this.properties;this.fill=e,this.fontSize=t}getDefaultAnchor(){return[]}initNodeData(e){super.initNodeData(e),this.r=16}}};const X={type:"newCircle",view:class extends n{},model:class extends l{getNodeStyle(){const e=super.getNodeStyle();return e.stroke=this.properties.stroke||"#000",e.fill=this.properties.fill||"transparent",e}getTextStyle(){const e=super.getTextStyle();return e.color=this.properties.textColor||"#000",e.fontSize=this.properties.fontSize||16,e.fontWeight=this.properties.fontWeight||"normal",e}initNodeData(e){super.initNodeData(e),this.r=20,this.minWidth=10,this.minHeight=10}getDefaultAnchor(){const{x:e,y:t,id:r,r:s}=this,{anchorNumber:o=4}=this.properties;let i=[],a=0;const l=2*Math.PI/o;for(let n=0;n<o;n++){a++;const o=n*l;i.push({x:e+s*Math.cos(o),y:t+s*Math.sin(o),id:r+"_"+a})}return i}}};const L={type:"newRect",view:class extends A{},model:class extends p{getNodeStyle(){const e=super.getNodeStyle(),{stroke:t="#000",fill:r="transparent"}=this.properties;return e.stroke=t,e.fill=r,e}getTextStyle(){const e=super.getTextStyle(),{textColor:t="#000",fontSize:r=16,fontWeight:s="normal"}=this.properties;return e.color=t,e.fontSize=r,e.fontWeight=s,e}initNodeData(e){super.initNodeData(e),this.minWidth=10,this.minHeight=10}}};const j={type:"newEllipse",view:class extends h{},model:class extends g{getNodeStyle(){const e=super.getNodeStyle(),{stroke:t="#000",fill:r="transparent"}=this.properties;return e.stroke=t,e.fill=r,e}getTextStyle(){const e=super.getTextStyle(),{textColor:t="#000",fontSize:r=16,fontWeight:s="normal"}=this.properties;return e.color=t,e.fontSize=r,e.fontWeight=s,e}initNodeData(e){super.initNodeData(e),this.rx=45,this.ry=30,this.minWidth=10,this.minHeight=10}}};const Y={type:"newLine",view:class extends y{setHtml(e){const t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.boxSizing="border-box",t.style.display="flex",t.style.alignItems="center",t.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height=this.props.model.properties.isWeight?"4px":"2px",r.style.flexShrink="0",r.style.minHeight="2px",r.style.background=this.props.model.properties.fill||"#000",r.style.borderRadius="1.5px";const s=document.createElement("div");s.style.width="0",s.style.height="0",s.style.border=this.props.model.properties.triangle?"8px solid transparent":"0 solid transparent",s.style.position="absolute",this.props.model.properties.triangle&&("left"===this.props.model.properties.triangle?(s.style.borderRightColor=this.props.model.properties.triangleColor||"#000",s.style.left="-8.5px"):(s.style.borderLeftColor=this.props.model.properties.triangleColor||"#000",s.style.right="-8.5px"));const o=document.createElement("div");o.textContent="W: ".concat(this.props.model.width,"px"),o.style.position="absolute",o.style.top="4px",o.style.right="6px",o.style.color="red",o.style.fontSize="12px",o.style.userSelect="none",o.style.pointerEvents="none",t.appendChild(r),t.appendChild(s),e.innerHTML="",e.appendChild(t)}},model:class extends u{initNodeData(e){super.initNodeData(e),this.width=400,this.height=60,this.minWidth=4,e.text="",this.text.editable=!1}getDefaultAnchor(){return[]}getOutlineStyle(){return super.getOutlineStyle()}}},I={name:"LogicFlowComponent",props:{disabled:{type:Boolean,default:()=>!1}},data:()=>({lf:null,color:"",pxValue:16,logicParams:{edgeType:"customEdge",isHighLight:!1}}),watch:{"logicParams.edgeType":{handler(e){e&&this.setLineType(e)},immediate:!1},"logicParams.isHighLight":{handler(e){this.lf.extension.highlight.setEnable(e)},immediate:!1}},mounted(){this.initFlow()},methods:{initFlow(){const e=new f({container:this.$refs.logic,allowResize:!0,allowRotate:!0,snapline:!0,history:!0,edgeType:"customEdge",adjustEdge:!0,isSilentMode:this.disabled,nodeTextDraggable:!0,edgeTextDraggable:!0,multipleSelectKey:"ctrl",overlapMode:1,stopMoveGraph:!0,stopScrollGraph:!0,stopZoomGraph:!1,plugins:[m,x,B,b,w,k],pluginsOptions:{highlight:{enable:!1}}});this.lf=e;let t=this;e.extension.menu.addMenuConfig({edgeMenu:[{text:"设置为对应颜色线条",callback(r){e.setProperties(r.id,{fill:t.color})}},{text:"设置自动转弯线条",callback(t){e.changeEdgeType(t.id,"customEdge")}},{text:"设置曲线线条",callback(t){e.changeEdgeType(t.id,"customBezierEdge")}},{text:"设置直线线条",callback(t){e.changeEdgeType(t.id,"customLineEdge")}},{text:"设置箭头线条",callback(t){e.setProperties(t.id,{isArrow:!0,arrowType:""})}},{text:"设置单点箭头线条",callback(t){e.setProperties(t.id,{isArrow:!0,arrowType:"point"})}},{text:"设置双点箭头线条",callback(t){e.setProperties(t.id,{isArrow:!0,arrowType:"points"})}},{text:"设置为对应颜色箭头",callback(r){e.setProperties(r.id,{arrowFill:t.color})}},{text:"设置无箭头线条",callback(t){e.setProperties(t.id,{isArrow:!1,arrowType:""})}},{text:"设置为完整线条",callback(t){e.setProperties(t.id,{strokeDasharray:"0 0"})}},{text:"设置为间隔线段（大）",callback(t){e.setProperties(t.id,{strokeDasharray:"14 7"})}},{text:"设置为间隔线段（小）",callback(t){e.setProperties(t.id,{strokeDasharray:"8 3"})}}],nodeMenu:[{text:"实心设置为对应颜色",callback(r){e.setProperties(r.id,{fill:t.color})}},{text:"边框设置为对应颜色",callback(r){e.setProperties(r.id,{stroke:t.color})}},{text:"文字设置为对应颜色",callback(r){e.setProperties(r.id,{textColor:t.color})}},{text:"文字设置为加粗",callback(t){e.setProperties(t.id,{fontWeight:"bold"})}},{text:"文字设置为正常",callback(t){e.setProperties(t.id,{fontWeight:"normal"})}},{text:"文字设置为细长",callback(t){e.setProperties(t.id,{fontWeight:"200"})}},{text:"文字设置为对应大小",callback(r){e.setProperties(r.id,{fontSize:t.pxValue})}}]}),e.extension.dndPanel.setPatternItems([{type:"newCircle",label:"圆型",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"newRect",label:"矩形",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"newEllipse",label:"椭圆",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"newLine",label:"简单直线",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"emptyNode",label:"占位元素",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"specialX",label:"特殊图形×",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"specialS",label:"特殊图形波浪线",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"newText",label:"文字",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="}]),e.extension.highlight.setMode("single"),e.openSelectionSelect(),e.setMenuByType({type:"lf:defaultSelectionMenu",menu:[{text:"删除",callback:t=>{e.clearSelectElements(),t.edges.forEach(t=>e.deleteEdge(t.id)),t.nodes.forEach(t=>e.deleteNode(t.id))}},{text:"复制节点",callback(t){t.nodes.forEach(t=>e.cloneNode(t.id))}},{text:"保存为复杂图形",callback(e){console.log(e)}}]}),e.setMenuByType({type:"newLine",menu:[{text:"删除",callback(t){e.deleteNode(t.id)}},{text:"复制",callback(t){e.cloneNode(t.id)}},{text:"设置为对应颜色线条",callback(r){e.setProperties(r.id,{fill:t.color})}},{text:"设置为加粗线条",callback(t){e.setProperties(t.id,{isWeight:!0})}},{text:"设置为不加粗线条",callback(t){e.setProperties(t.id,{isWeight:!1})}},{text:"设置为左向箭头线条",callback(t){e.setProperties(t.id,{triangle:"left"})}},{text:"设置为右向箭头线条",callback(t){e.setProperties(t.id,{triangle:"right"})}},{text:"设置为无箭头线条",callback(t){e.setProperties(t.id,{triangle:""})}},{text:"设置为对应颜色箭头",callback(r){e.setProperties(r.id,{triangleColor:t.color})}}]}),e.setMenuByType({type:"specialX",menu:[{text:"删除",callback(t){e.deleteNode(t.id)}},{text:"复制",callback(t){e.cloneNode(t.id)}},{text:"设置为对应颜色",callback(r){e.setProperties(r.id,{fill:t.color})}},{text:"设置为对应尺寸",callback(r){e.setProperties(r.id,{fontSize:t.pxValue})}}]}),e.setMenuByType({type:"specialS",menu:[{text:"删除",callback(t){e.deleteNode(t.id)}},{text:"复制",callback(t){e.cloneNode(t.id)}},{text:"设置为对应颜色",callback(r){e.setProperties(r.id,{fill:t.color})}},{text:"设置为对应尺寸",callback(r){e.setProperties(r.id,{fontSize:t.pxValue})}}]}),e.register(Q),e.register(M),e.register(R),e.register(v),e.register(W),e.register(T),e.register(z),e.register(F),e.register(X),e.register(L),e.register(j),e.register(Y),e.render(),e.extension.selectionSelect.openSelectionSelect()},async doExport(){this.lf.getSnapshot("测试图片",{partial:!0})},setLineType(e){this.lf.setDefaultEdgeType(e),this.$message.success("已切换线条类型")}}},Z={class:"page_content"},N={class:"header-item"},D={class:"header-item"},J={class:"header-item"},O={class:"header-item"},H={class:"header-item"},q={id:"logic",ref:"logic"};const _=E(I,[["render",function(e,t,r,s,o,i){const a=S("vxe-color-picker"),l=S("el-input-number"),n=S("el-radio"),d=S("el-radio-group"),c=S("el-switch"),p=S("el-button");return G(),K("div",Z,[P("header",null,[P("section",null,[P("div",N,[t[5]||(t[5]=U(" 颜色： ",-1)),V(a,{modelValue:o.color,"onUpdate:modelValue":t[0]||(t[0]=e=>o.color=e),colors:this.$store.state.staticOptionsObj.colors,style:{"vertical-align":"middle"},onClear:t[1]||(t[1]=e=>o.color="transparent")},null,8,["modelValue","colors"])]),P("div",D,[t[6]||(t[6]=U(" 大小 ",-1)),V(l,{modelValue:o.pxValue,"onUpdate:modelValue":t[2]||(t[2]=e=>o.pxValue=e),size:"small",step:1,min:4,max:100},null,8,["modelValue"])]),P("div",J,[t[10]||(t[10]=U(" 连线类型： ",-1)),V(d,{modelValue:o.logicParams.edgeType,"onUpdate:modelValue":t[3]||(t[3]=e=>o.logicParams.edgeType=e)},{default:C(()=>[V(n,{value:"customEdge",size:"large"},{default:C(()=>[...t[7]||(t[7]=[U("自动转弯连线",-1)])]),_:1}),V(n,{value:"customLineEdge",size:"large"},{default:C(()=>[...t[8]||(t[8]=[U("直线连线",-1)])]),_:1}),V(n,{value:"customBezierEdge",size:"large"},{default:C(()=>[...t[9]||(t[9]=[U("曲线连线",-1)])]),_:1})]),_:1},8,["modelValue"])]),P("div",O,[t[11]||(t[11]=U(" 是否高亮： ",-1)),V(c,{modelValue:o.logicParams.isHighLight,"onUpdate:modelValue":t[4]||(t[4]=e=>o.logicParams.isHighLight=e),size:"large"},null,8,["modelValue"])])]),P("section",null,[P("div",H,[V(p,{type:"primary",onClick:i.doExport},{default:C(()=>[...t[12]||(t[12]=[U("导出",-1)])]),_:1},8,["onClick"])])])]),P("article",null,[P("div",q,null,512)])])}],["__scopeId","data-v-37e56056"]]);export{_ as default};
