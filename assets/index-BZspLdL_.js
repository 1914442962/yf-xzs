import{g as e}from"./gzt-api-C1xulDv1.js";import{b as t,r as a,o as s,f as d,w as l,e as o,d as i,c as r,p as h,j as n,i as c,t as p}from"./index-0nalUVid.js";import"./polyfill-lGe4XDVY.js";const u={key:0,class:"welcomePage"};const f=t({name:"gzt",data:()=>({isShowWelcomePage:!0,keyword:"",activeName:"默认",treeData:[],defaultExpandAll:!1,MathKey:0}),watch:{"$route.path":{handler(e){e&&("/gzt"==this.$route.path?this.isShowWelcomePage=!0:this.isShowWelcomePage=!1)},immediate:!0}},computed:{defaultExpandedKeys(){return[this.$route.path.replace("/","")]}},created(){this.loadLeftData()},methods:{customNodeClass({path:e}){return this.$route.path.replace("/","")==e?"active_tree":""},loadLeftData(){this.loadTreeData(),this.loadCollectData()},loadTreeData(){e.loadTreeDataService({menu:this.keyword}).then(e=>{this.$store.state.gztTree&&(e.data=e.data.filter(e=>e.path===this.$store.state.gztTree),this.defaultExpandAll=!0),this.treeData=e.data,this.MathKey=Math.random(),this.$store.state.gztTree&&this.$nextTick(()=>{this.$store.state.gztPath?this.$router.push({path:"/".concat(this.$store.state.gztPath)}):this.handleNodeClick(e.data[0].children[0])})})},loadCollectData(){},handleNodeClick(e){e.children&&0!=e.children.length||this.$router.push({path:"/".concat(e.path)})}}},[["render",function(e,t,f,m,y,g){const k=a("el-tree"),x=a("vxe-splitter-panel"),w=a("router-view"),$=a("vxe-splitter");return s(),d($,{id:"gzt",height:"100%","action-config":{showPrevButton:!0},resize:!1},{default:l(()=>[o(x,{width:"12%"},{default:l(()=>[(s(),d(k,{data:y.treeData,onNodeClick:g.handleNodeClick,"node-key":"path",ref:"treeRef",props:{class:g.customNodeClass},key:y.MathKey,"default-expanded-keys":g.defaultExpandedKeys,"current-node-key":g.defaultExpandedKeys[0],"default-expand-all":y.defaultExpandAll},{default:l(({node:e,data:t})=>[i("div",null,[1==t.type||2==t.type?(s(),r("i",{key:0,class:h([t.icon,"tree_icon"])},null,2)):n("",!0),c(" "+p(t.title),1)])]),_:1},8,["data","onNodeClick","props","default-expanded-keys","current-node-key","default-expand-all"]))]),_:1}),o(x,{"min-width":"88%",class:"main_class"},{default:l(()=>[y.isShowWelcomePage?(s(),r("div",u)):n("",!0),o(w)]),_:1})]),_:1})}]]);export{f as default};
