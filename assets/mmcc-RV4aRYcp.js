import{t as e}from"./table_mixin-JRUrQyo7.js";import{A as a,B as l,b as t,r as s,o as i,c as r,d,i as o,e as c,w as m,F as h,v as n,f as u,j as b,t as f,x as p}from"./index-lltYVhud.js";import"./polyfill-lGe4XDVY.js";let v=l.base;const g={loadTableDataService:e=>a({url:"".concat(v,"/sbqd/mmcc"),method:"post",data:e,showLoading:!0})},y={class:"page_content"},j={class:"header-item"},P={class:"header-item"},x={key:0,class:"header-item"},w={class:"header-item"},k={class:"header-item"};const C=t({name:"mmcc",mixins:[e],components:{},data:()=>({time:["",""],total:0,dydj:"",searchParams:{czmcId:"",czmc:"",jhmc:"",dydj:"",sblx:""},tableData:[],isAutoWrap:!1,dydjOptions:[{label:"500",value:"112871465677750274"},{label:"220",value:"112871465677750279"},{label:"110",value:"112871465677750280"},{label:"35",value:"112871465677750275"},{label:"20",value:"112871465677750273"},{label:"10",value:"112871465677750278"}]}),watch:{"searchParams.sblx":{handler(e){e&&"厂站"==e&&(this.searchParams.czmcId="")},immediate:!1},"searchParams.dydj":{handler(e){e?this.$nextTick(()=>{this.dydj=this.$refs.dydjRef.selectedLabel}):this.dydj=""},immediate:!1},"searchParams.czmcId":{handler(e){e?this.$nextTick(()=>{this.searchParams.czmc=this.$refs.czRef.selectedLabel}):this.searchParams.czmc=""},immediate:!1}},computed:{tableHeaderList(){return"厂站"==this.searchParams.sblx?[{type:"seq",width:60},{field:"bvId",title:"电压等级（kV）",width:200},{field:"name",title:"厂站",minWidth:200},{field:"sjly",title:"数据来源",width:110}]:[{type:"seq",width:60},{field:"bvId",title:"电压等级（kV）",width:200},{field:"stId",title:"厂站",width:200},{field:"name",title:"设备名称",minWidth:120},{field:"sjly",title:"数据来源",width:110}]},gridOptions(){return{height:"auto",keepSource:!0,border:!0,round:!0,headerAlign:"center",align:"center",loading:!1,rowConfig:{isCurrent:!0,isHover:!0},radioConfig:{highlight:!0},checkboxConfig:{highlight:!0},columnConfig:{resizable:!0},sortConfig:{remote:!0},filterConfig:{remote:!0},showOverflow:this.isAutoWrap,headerCellClassName:"row-class",proxyConfig:{seq:!0,showResponseMsg:!1,showActionMsg:!1,sort:!0,filter:!0,autoLoad:!1,ajax:{query:()=>this.loadTableApi()}},menuConfig:{body:{options:[[{code:"collect",name:"标记重点"}]]}},columns:this.tableHeaderList}},defaultLeftButtons:()=>[{type:"gradientGreen",name:"核名"}],defaultRightButtons:()=>[]},mounted(){},methods:{reloadTableData(){this.$refs.xTable.commitProxy("query")},loadTableData(){this.searchParams.jhmc?this.$refs.xTable.commitProxy("reload"):this.$message.warning("请先输入校核名")},loadTableApi(){return new Promise(e=>{g.loadTableDataService(this.searchParams).then(a=>{e(a.data)})})},toggleWrap(){this.isAutoWrap?this.isAutoWrap=!1:this.isAutoWrap="tooltip"},resetParams(){this.searchParams.dydj="",this.searchParams.jhmc="",this.$nextTick(function(){this.loadTableData()})}}},[["render",function(e,a,l,t,v,g){const C=s("el-option"),V=s("el-select"),T=s("el-input"),z=s("el-button"),A=s("vxe-grid");return i(),r("div",y,[d("header",null,[d("section",null,[d("div",j,[a[5]||(a[5]=o(" 电压等级： ",-1)),c(V,{modelValue:v.searchParams.dydj,"onUpdate:modelValue":a[0]||(a[0]=e=>v.searchParams.dydj=e),placeholder:"请选择",filterable:"",ref:"dydjRef"},{default:m(()=>[(i(!0),r(h,null,n(v.dydjOptions,e=>(i(),u(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),d("div",P,[a[6]||(a[6]=o(" 设备类型： ",-1)),c(V,{modelValue:v.searchParams.sblx,"onUpdate:modelValue":a[1]||(a[1]=e=>v.searchParams.sblx=e),placeholder:"请选择",filterable:""},{default:m(()=>[(i(!0),r(h,null,n(this.$store.state.staticOptionsObj.sblx,e=>(i(),u(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),"厂站"!=v.searchParams.sblx?(i(),r("div",x,[a[7]||(a[7]=o(" 厂站名称： ",-1)),c(V,{modelValue:v.searchParams.czmcId,"onUpdate:modelValue":a[2]||(a[2]=e=>v.searchParams.czmcId=e),placeholder:"请选择",filterable:"",ref:"czRef"},{default:m(()=>[(i(!0),r(h,null,n(this.$store.state.selectOptionsObj.cz,e=>(i(),u(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])):b("",!0),d("div",w,[c(T,{placeholder:"请输入校核名",modelValue:v.searchParams.jhmc,"onUpdate:modelValue":a[3]||(a[3]=e=>v.searchParams.jhmc=e),title:v.searchParams.jhmc,clearable:""},null,8,["modelValue","title"])]),d("div",k,[c(z,{type:"gradientGreen",onClick:g.loadTableData},{default:m(()=>[...a[8]||(a[8]=[o("核名",-1)])]),_:1},8,["onClick"])])]),a[9]||(a[9]=d("section",null,null,-1))]),d("article",null,[c(A,p(g.gridOptions,{ref:"xTable",onMenuClick:a[4]||(a[4]=a=>e.menuClickEvent(a,"设备启动"))}),{top:m(()=>[d("div",null," 以D5000设备模型库为查询库，您查询的"+f(v.dydj)+"kV"+f(v.searchParams.czmc)+f(v.searchParams.jhmc)+"的重名情况如下： ",1)]),_:1},16)])])}],["__scopeId","data-v-4131ca84"]]);export{C as default};
