import{t as e}from"./table_mixin-B0gHWcei.js";import{z as t,A as a,_ as r,r as i,o as l,c as d,b as n,d as s,w as o,h as f,F as h,q as m,e as u,t as c,v as g,y as j}from"./index-9pCzIQ7O.js";import"./polyfill-lGe4XDVY.js";let b=a.base;const p={loadTableDataService:e=>t({url:"".concat(b,"/fxyj/getFxyjTj"),method:"post",data:e,showLoading:!0})},x={class:"page_content"},w={style:{"padding-bottom":"0"}},y={class:"header-item"},v={class:"header-item"},N={class:"header-item"};const k=r({name:"fxyjtjfx",mixins:[e],components:{},data:()=>({time:["",""],total:0,searchParams:{keyword:"",lx:"五级风险",sdt:"",edt:"",sortOrder:"",sortColumn:""},tableData:[],footerData:[],isAutoWrap:!1,numberColumn:["sdfb5j220","sdwtfb5j","dszjfb5j","fxdj5j220","fxdj5j110","fxdj5jN4","fxdj5jN10","dsfb6j","dszjfb6j","fxdj6j220","fxdj6j110","fxdj6jN4","fxdj6jN10"]}),watch:{time:{handler(e){e?(this.searchParams.sdt=e[0],this.searchParams.edt=e[1]):(this.searchParams.sdt="",this.searchParams.edt=""),this.loadTableData()},immediate:!1}},computed:{tableHeaderList(){return"五级风险"==this.searchParams.lx?[{type:"checkbox",width:50,fixed:"left"},{type:"seq",width:60,fixed:"left"},{field:"xgdd",title:"相关地调",width:100},{field:"sj",title:"时间",width:120,sortable:!0},{field:"fxfblx",title:"风险发布类型",width:120},{field:"sdfb5j220",title:"省调发布\n五级风险（项）\n（仅220kV）",width:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0],slots:{header:"header_sdwj"}},{field:"sdwtfb5j",title:"省调委托发布\n五级风险（项）",width:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0]},{field:"dszjfb5j",title:"地市自己发布\n五级风险（项）\n（不包含落实省调风险）",minWidth:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0],slots:{header:"header_ddwj"}},{field:"fxdj5j220",title:"220kV\n五级风险（项）",width:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0]},{field:"fxdj5j110",title:"110kV\n五级风险（项）",width:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0]},{field:"fxdj5jN4",title:"N-1>4\n五级风险（项）",width:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0]},{field:"fxdj5jN10",title:"N-2>10\n五级风险（项）",width:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0]},{field:"dsfb6j",title:"地市发布\n六级风险",width:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0]}]:[{type:"checkbox",width:50,fixed:"left"},{type:"seq",width:60,fixed:"left"},{field:"xgdd",title:"相关地调",width:100},{field:"sj",title:"时间",width:120,sortable:!0},{field:"fxfblx",title:"风险发布类型",width:120},{field:"dszjfb6j",title:"地市自己发布\n六级风险（项）\n（不包含落实省调风险）",minWidth:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0],slots:{header:"header_ddlj"}},{field:"fxdj6j220",title:"220kV\n六级风险（项）",minWidth:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0]},{field:"fxdj6j110",title:"110kV\n六级风险（项）",minWidth:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0]},{field:"fxdj6jN4",title:"N-1>4\n六级风险（项）",minWidth:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0]},{field:"fxdj6jN10",title:"N-2>10\n六级风险（项）",minWidth:120,headerAlign:"center",align:"right",formatter:["formatterNumber",0]}]},gridOptions(){return{height:"auto",border:!0,round:!0,headerAlign:"center",align:"center",loading:!1,showFooter:!0,rowConfig:{isCurrent:!0,isHover:!0},columnConfig:{resizable:!0},resizeConfig:{isDblclickAutoWidth:!0},sortConfig:{remote:!0},showOverflow:this.isAutoWrap,headerCellClassName:"row-class",data:this.tableData,columns:this.tableHeaderList,footerMethod:this.footerMethod}},defaultLeftButtons:()=>[{type:"gradientGreen",name:"查询"}],defaultRightButtons:()=>[]},mounted(){this.time=[j().format("YYYY-MM"),j().format("YYYY-MM")]},methods:{loadTableData(){p.loadTableDataService(this.searchParams).then(e=>{this.tableData=e.data})},toggleWrap(){this.isAutoWrap?this.isAutoWrap=!1:this.isAutoWrap="tooltip"},footerMethod({columns:e,data:t}){return[e.map((e,a)=>0===a?"合计":this.numberColumn.includes(e.field)?this.sumMethod(t,e.field):"-")]}}},[["render",function(e,t,a,r,j,b){const p=i("el-button"),k=i("el-button-group"),A=i("el-date-picker"),_=i("vxe-grid");return l(),d("div",x,[n("header",w,[s(k,null,{default:o(()=>[s(p,{type:"五级风险"===j.searchParams.lx?"gradientBlue":"",onClick:t[0]||(t[0]=e=>j.searchParams.lx="五级风险")},{default:o(()=>[...t[3]||(t[3]=[f("五级风险",-1)])]),_:1},8,["type"]),s(p,{type:"六级风险"===j.searchParams.lx?"gradientBlue":"",onClick:t[1]||(t[1]=e=>j.searchParams.lx="六级风险")},{default:o(()=>[...t[4]||(t[4]=[f("六级风险",-1)])]),_:1},8,["type"])]),_:1})]),n("header",null,[n("section",null,[n("div",y,[t[5]||(t[5]=f(" 月份范围： ",-1)),s(A,{modelValue:j.time,"onUpdate:modelValue":t[2]||(t[2]=e=>j.time=e),type:"monthrange",format:"YYYY-MM","value-format":"YYYY-MM","range-separator":"-","start-placeholder":"开始月份","end-placeholder":"结束月份"},null,8,["modelValue"])]),n("div",v,[(l(!0),d(h,null,m(b.defaultLeftButtons,(t,a)=>(l(),u(p,{type:t.type,plain:t.plain,key:a+"defaultLeftButtons",onClick:a=>e.btnClick(t)},{default:o(()=>[f(c(t.name),1)]),_:2},1032,["type","plain","onClick"]))),128))])]),n("section",null,[n("div",N,[(l(!0),d(h,null,m(b.defaultRightButtons,(t,a)=>(l(),u(p,{type:t.type,plain:t.plain,key:a+"defaultRightButtons",onClick:a=>e.btnClick(t)},{default:o(()=>[f(c(t.name),1)]),_:2},1032,["type","plain","onClick"]))),128))])])]),n("article",null,[s(_,g(b.gridOptions,{ref:"xTable"}),{header_sdwj:o(({column:e})=>[...t[6]||(t[6]=[n("div",{class:"header_div"},[n("div",null,"省调发布"),n("div",null,"五级风险（项）"),n("div",{style:{color:"red"}},"（仅220kV）")],-1)])]),header_ddwj:o(({column:e})=>[...t[7]||(t[7]=[n("div",{class:"header_div"},[n("div",null,"地市自己发布"),n("div",null,"五级风险（项）"),n("div",{style:{color:"red"}},"（不包含落实省调风险）")],-1)])]),header_ddlj:o(({column:e})=>[...t[8]||(t[8]=[n("div",{class:"header_div"},[n("div",null,"地市自己发布"),n("div",null,"六级风险（项）"),n("div",{style:{color:"red"}},"（不包含落实省调风险）")],-1)])]),_:1},16)])])}],["__scopeId","data-v-75201f0e"]]);export{k as default};
